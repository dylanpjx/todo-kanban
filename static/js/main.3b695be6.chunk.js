(this["webpackJsonptodo-kanban"]=this["webpackJsonptodo-kanban"]||[]).push([[0],{69:function(e,t,a){e.exports=a(81)},74:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),l=a.n(o),s=(a(74),a(23)),d=a(6),c=a(53),i=a(54),u=a(59),b=a(58),p=a(125),f={boards:{"board-0":{id:"board-0",header:"Template board",colIds:["col-0","col-1","col-2"]}},cols:{"col-0":{id:"col-0",label:"Todo",isNew:!1,taskIds:["task-0"]},"col-1":{id:"col-1",label:"Doing",isNew:!1,taskIds:["task-1"]},"col-2":{id:"col-2",label:"Done",isNew:!1,taskIds:["task-2"]}},tasks:{"task-0":{id:"task-0",content:"Click inside any of the text fields to edit",isNew:!1},"task-1":{id:"task-1",content:"Try dragging the tasks and cols around to reorder them",isNew:!1},"task-2":{id:"task-2",content:"The notes support markdown syntax",isNew:!1}},boardOrder:["board-0"]},m=a(114),k=a(21),g=a(117),h=a(39),O=a.n(h),v=Object(m.a)((function(e){return{addCol:{minWidth:"270px",margin:"0px 15px"}}})),j=function(e){var t=v();return r.a.createElement("div",{className:t.addCol},r.a.createElement(g.a,{fullWidth:!0,color:"primary",variant:"contained",startIcon:r.a.createElement(O.a,null),onClick:function(){return e.addCol("")},style:{backgroundColor:"#494949"}},"Add another column"))},E=a(120),x=a(18),I=a(124),C=Object(m.a)((function(e){return{editWrapper:{display:"flex",minHeight:"30px",width:function(e){return e.width?e.width:"230px"},wordWrap:"break-word"},inputStyle:{padding:function(e){return e.padding},fontSize:function(e){return e.fontSize},fontWeight:function(e){return e.fontWeight},lineHeight:function(e){return e.lineHeight},margin:"0px",wordWrap:"break-word"}}})),y=function(e){var t=e.text,a=e.onSubmit,o=e.ContentComponent,l=e.initIsEditing,s=e.styleProps,d=e.onExitIfEmpty,c=void 0===d?null:d,i=e.setButtonVis,u=void 0===i?null:i,b=e.multiline,p=void 0!==b&&b,f=C(s),m=Object(n.useState)(l),k=Object(x.a)(m,2),g=k[0],h=k[1];return g&&u&&u(!1),r.a.createElement("div",{onClick:function(){g||h(!0)},className:f.editWrapper,style:{whiteSpace:"pre-line"}},g?r.a.createElement(I.a,{fullWidth:!0,multiline:p,defaultValue:t,variant:"outlined",onKeyDown:function(e){if("Enter"===e.key){if(e.shiftKey)return;e.preventDefault(),""!==e.target.value.trim()&&(a(e.target.value.trim()),h(!1))}},autoFocus:!0,onFocus:function(e){e.target.select()},onBlur:function(e){h(!1),c&&c()},InputProps:{classes:{input:f.inputStyle,multiline:f.inputStyle}}}):r.a.createElement(o,null))},S=a(119),w=a(41),N=a.n(w),T=a(57),W=a(126),D=Object(m.a)((function(e){return{boardMenu:{}}})),H=function(e){var t=D(),a=Object(n.useState)(null),o=Object(x.a)(a,2),l=o[0],s=o[1];return r.a.createElement("div",{className:t.boardMenu},r.a.createElement(S.a,{onClick:function(e){return s(e.currentTarget)}},r.a.createElement(N.a,null)),r.a.createElement(T.a,{id:"col-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:function(){return s(null)}},r.a.createElement(W.a,{disabled:Object.keys(e.boards).length<=1,onClick:function(){return s(null)}},"Delete Board")))},P=Object(m.a)((function(e){return{header:{display:"flex",height:"70px",alignItems:"center",justifyContent:"center",padding:"15px"}}})),B=function(e){var t=e.text;return r.a.createElement(E.a,{variant:"h5"},t)},z=function(e){var t=P();return r.a.createElement("header",{className:t.header},r.a.createElement(y,{text:e.header,onSubmit:function(t){return e.updateHeader(e.boardId,t)},ContentComponent:function(){return r.a.createElement(B,{text:e.header})},styleProps:{padding:"2.5px",fontSize:"1.5rem",fontWeight:"400",lineHeight:"1.334",width:"180px"}}),r.a.createElement(H,{boards:e.boards}))},M=a(121),L=a(122),J=a(123),R=Object(m.a)((function(e){return{}})),V=function(e){var t=R(),a=Object(n.useState)(null),o=Object(x.a)(a,2),l=o[0],s=o[1];return r.a.createElement("div",{className:t.colMenu},r.a.createElement(S.a,{onClick:function(e){return s(e.currentTarget)}},r.a.createElement(N.a,null)),r.a.createElement(T.a,{id:"col-menu",anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:function(){return s(null)}},r.a.createElement(W.a,{onClick:function(){return e.delCol(e.colId)}},"Delete Column")))},A=a(82),F=a(55),K=a.n(F),q=Object(m.a)((function(e){return{delTask:{position:"absolute",right:"0px","&:hover":{backgroundColor:"rgba(236, 232, 217, 0.6)"}}}})),U=function(e){var t=q();return r.a.createElement("div",null,r.a.createElement(S.a,{size:"small",className:t.delTask,style:{borderRadius:"0px"},onClick:function(){return e.delTask(e.colId,e.taskId)}},r.a.createElement(K.a,null)))},$=Object(m.a)((function(e){return{task:{backgroundColor:"rgb(255, 253, 246)",display:"flex",justifyContent:"space-between",position:"relative","&:hover":{backgroundColor:"#f5f2f0"}}}})),G=function(e){var t=e.text;return r.a.createElement(E.a,{style:{padding:5.5,wordWrap:"word-break"}},t)},Q=function(e){var t=$(e),a=Object(n.useState)(!1),o=Object(x.a)(a,2),l=o[0],s=o[1];return r.a.createElement(k.b,{draggableId:e.task.id,index:e.index,type:"task"},(function(a,n){return r.a.createElement(A.a,Object.assign({variant:"outlined",square:!0,className:t.task,onMouseEnter:function(){return s(!0)},onMouseLeave:function(){return s(!1)}},a.draggableProps,a.dragHandleProps,{ref:a.innerRef}),r.a.createElement(y,{text:e.task.content,onSubmit:function(t){return e.updateContent(e.task.id,t)},onExitIfEmpty:function(){e.task.isNew&&e.delTask(e.colId,e.task.id)},initIsEditing:e.task.isNew,ContentComponent:function(){return r.a.createElement(G,{text:e.task.content})},setButtonVis:s,multiline:!0,styleProps:{padding:"2.5px",fontSize:"1rem",fontWeight:"400",lineHeight:"1.5",width:"246px"}}),l&&!n.isDragging&&r.a.createElement(U,{delTask:e.delTask,colId:e.colId,taskId:e.task.id}))}))},X=Object(m.a)((function(e){return{addTask:{border:"",padding:"",position:"relative"}}})),Y=function(e){var t=X();return r.a.createElement(g.a,{className:t.addTask,size:"small",startIcon:r.a.createElement(O.a,null),onClick:function(){return e.addTask(e.colId,"")}},"Add another task")},Z=Object(m.a)((function(e){return{col:{backgroundColor:"rgb(243.6, 241.2, 232.2)",display:"flex",flexDirection:"column",minWidth:"270px",margin:"0px 15px"},labelWrapper:{display:"flex",height:"44px",alignItems:"center",justifyContent:"center","&:hover":{backgroundColor:"rgb(236, 232, 217)"}},taskWrapper:{display:"flex",flexDirection:"column"}}})),_=function(e){var t=e.text;return r.a.createElement(E.a,{style:{padding:"12px"},variant:"h6"},t)},ee=function(e){var t=Z();return r.a.createElement(k.b,{draggableId:e.col.id,index:e.index,type:"column"},(function(a){return r.a.createElement("div",null,r.a.createElement(M.a,Object.assign({className:t.col},a.draggableProps,{ref:a.innerRef}),r.a.createElement("div",Object.assign({className:t.labelWrapper},a.dragHandleProps),r.a.createElement(y,{text:e.col.label,onSubmit:function(t){return e.updateLabel(e.col.id,t)},onExitIfEmpty:function(){e.col.isNew&&e.delCol(e.col.id)},initIsEditing:e.col.isNew,ContentComponent:function(){return r.a.createElement(_,{text:e.col.label})},styleProps:{padding:"10px",fontSize:"1.25rem",fontWeight:"500",lineHeight:"1.6"}}),r.a.createElement(V,{colId:e.col.id,delCol:e.delCol,copyCol:e.copyCol})),r.a.createElement(k.c,{droppableId:e.col.id,type:"task"},(function(a){return r.a.createElement(L.a,Object.assign({},a.droppableProps,{ref:a.innerRef,className:t.taskWrapper}),e.col.taskIds.map((function(t,a){var n=e.tasks[t];return n?r.a.createElement(Q,{key:n.id,colId:e.col.id,task:n,index:a,delTask:e.delTask,updateContent:e.updateContent}):null})),a.placeholder)})),r.a.createElement(J.a,null,r.a.createElement(Y,{className:t.add,colId:e.col.id,addTask:e.addTask}))))}))},te=Object(m.a)((function(e){return{board:{},colWrapper:{display:"flex",margin:"0px 20px"}}})),ae=function(e){var t=te();return r.a.createElement(k.a,{onDragEnd:e.onDragEnd},r.a.createElement("div",{className:t.board},r.a.createElement(z,{boards:e.boards,boardId:e.board.id,header:e.board.header,updateHeader:e.updateHeader}),r.a.createElement(k.c,{droppableId:e.board.id,direction:"horizontal",type:"column"},(function(a){return r.a.createElement("div",Object.assign({className:t.colWrapper},a.droppableProps,{ref:a.innerRef}),e.board.colIds.map((function(t,a){var n=e.cols[t];return n?r.a.createElement(ee,{key:n.id,col:n,delCol:e.delCol,copyCol:e.copyCol,updateLabel:e.updateLabel,index:a,tasks:e.tasks,addTask:e.addTask,delTask:e.delTask,updateContent:e.updateContent}):null})),a.placeholder,r.a.createElement(j,{addCol:e.addCol}))}))))},ne=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).componentDidUpdate=function(){console.log("Saved",n.state),localStorage.setItem("state",JSON.stringify(n.state))},n.onDragEnd=function(e){var t,a=e.destination,r=e.source,o=e.draggableId,l=e.type;if(a&&(a.droppableId!==r.droppableId||a.index!==r.index)){if("column"===l){var c=n.state.boards[r.droppableId].colIds;c.splice(r.index,1),c.splice(a.index,0,o);var i=Object(d.a)(Object(d.a)({},n.state.boards[r.draggableId]),{},{colIds:c});return n.setState(Object(d.a)(Object(d.a)({},n.state),{},{boards:Object(d.a)(Object(d.a)({},n.state.boards),{},Object(s.a)({},i.id,i))})),void localStorage.setItem("state",JSON.stringify(n.state))}var u=n.state.cols[r.droppableId],b=n.state.cols[a.droppableId];if(u===b){var p=u.taskIds;p.splice(r.index,1),p.splice(a.index,0,o);var f=Object(d.a)(Object(d.a)({},u),{},{taskIds:p});return n.setState(Object(d.a)(Object(d.a)({},n.state),{},{cols:Object(d.a)(Object(d.a)({},n.state.cols),{},Object(s.a)({},f.id,f))})),void localStorage.setItem("state",JSON.stringify(n.state))}var m=u.taskIds;m.splice(r.index,1);var k=Object(d.a)(Object(d.a)({},u),{},{startTaskIds:m}),g=b.taskIds;g.splice(a.index,0,o);var h=Object(d.a)(Object(d.a)({},b),{},{endTaskIds:g});n.setState(Object(d.a)(Object(d.a)({},n.state),{},{cols:Object(d.a)(Object(d.a)({},n.state.cols),{},(t={},Object(s.a)(t,k.id,k),Object(s.a)(t,h.id,h),t))}))}},n.addBoard=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"board-"+Object(p.a)(),r=Object(d.a)({},n.state.boards);r[a]={id:a,header:e,colIds:t},n.setState({boards:r})},n.delBoard=function(e){var t=Object(d.a)({},n.state.boards);t.filter((function(t){return t.id===e})),n.setState({boards:t})},n.updateHeader=function(e,t){var a=Object(d.a)({},n.state.boards);a[e]=Object(d.a)(Object(d.a)({},a[e]),{},{header:t}),n.setState({boards:a})},n.addCol=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"col-"+Object(p.a)(),o=Object(d.a)({},n.state.cols);o[r]={id:r,label:e,isNew:a,taskIds:t},n.setState({cols:o});var l=Object(d.a)({},n.state.boards);l[n.state.boardOrder[0]].colIds.push(r),n.setState({boards:l})},n.delCol=function(e){var t=Object(d.a)({},n.state.cols);delete t[e],n.setState({cols:t}),Object(d.a)({},n.state.boards)[n.state.boardOrder[0]].colIds.filter((function(t){return t===e}))},n.updateLabel=function(e,t){var a=Object(d.a)({},n.state.cols);a[e]=Object(d.a)(Object(d.a)({},a[e]),{},{label:t,isNew:!1}),n.setState({cols:a})},n.addTask=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"task-"+Object(p.a)(),o=Object(d.a)({},n.state.tasks);o[r]={id:r,content:t,isNew:a},n.setState({tasks:o});var l=Object(d.a)({},n.state.cols);l[e].taskIds.push(r),n.setState({cols:l})},n.delTask=function(e,t){var a=Object(d.a)({},n.state.tasks);delete a[t],n.setState({tasks:a});var r=Object(d.a)({},n.state.cols);r[e].taskIds.filter((function(e){return e===t})),n.setState({cols:r})},n.updateContent=function(e,t){var a=Object(d.a)({},n.state.tasks);a[e]=Object(d.a)(Object(d.a)({},a[e]),{},{content:t,isNew:!1}),n.setState({tasks:a})},n.state=localStorage.getItem("state")?JSON.parse(localStorage.getItem("state")):f,n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.boards[this.state.boardOrder[0]];return r.a.createElement(ae,{boards:this.state.boards,board:e,updateHeader:this.updateHeader,cols:this.state.cols,addCol:this.addCol,delCol:this.delCol,updateLabel:this.updateLabel,tasks:this.state.tasks,addTask:this.addTask,delTask:this.delTask,updateContent:this.updateContent,onDragEnd:this.onDragEnd})}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[69,1,2]]]);
//# sourceMappingURL=main.3b695be6.chunk.js.map